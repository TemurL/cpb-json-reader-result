(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7755:(e,t,a)=>{Promise.resolve().then(a.bind(a,9551))},9551:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(5155),n=a(8334),s=a.n(n),r=a(2115),o=a(7505);function i(e){let{setTablesData:t,tablesData:a}=e;return(0,l.jsx)("div",{id:"upload-block",children:(0,l.jsxs)("form",{action:"",onSubmit:e=>{e.preventDefault();let a=e.target[0].files;a.length<1||function(e){var a=new FileReader;let l=[];!function n(s){if(s>=e.length)return;let r={data:[],fileName:null};var i=e[s];a.onload=function(a){let d=JSON.parse(a.target.result);d&&((0,o.Vu)([d],{delimiter:{field:"^$"}}).split("\n").forEach((e,t)=>{r.data[t]=e.split("^$")}),r.fileName=i.name,l.push(r),console.log(r),n(s+1),s==e.length-1&&t(l))},a.readAsText(i)}(0)}(a)},children:[(0,l.jsx)("input",{type:"file",accept:".json",multiple:!0}),(0,l.jsx)("p",{children:"Here you can upload json file of CPB product"}),(0,l.jsxs)("div",{className:s().actionBtns,children:[0==a.length&&(0,l.jsx)("button",{type:"submit",className:s().actionBtn,children:"Continue"}),a.length>0&&(0,l.jsx)("button",{type:"button",onClick:()=>{t([])},className:s().actionBtn,children:"Reset"})]})]})})}let d=e=>{let t=structuredClone(e);t.forEach((e,t,a)=>a[t]=e.join(","));let a=t.join("\n");return"data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify((0,o.XD)(a)[0]))},c=e=>{let{field:t,blurHandler:a}=e;return(0,l.jsx)("td",{className:s().td,children:(0,l.jsx)("input",{type:"text",defaultValue:t,onBlur:a})})};function p(e){let{tableData:t,fileName:a}=e,n=structuredClone(t),[o,i]=(0,r.useState)(d(t)),[p,_]=(0,r.useState)(!1),u=e=>{let t=e.target.value,a=e.target.parentElement,l=a.parentElement,s=Array.prototype.indexOf.call(l.children,a);n[1][s]=t,i(d(n)),_(!0)};return(0,l.jsxs)("div",{className:s().tableWrapper,children:[(0,l.jsx)("a",{className:(t.length>0&&p?s().downloadBtn:s().hide)+" download-btn",download:"updated_"+a,href:o,children:"Download JSON"}),(0,l.jsxs)("table",{className:s().table,children:[(0,l.jsx)("caption",{children:a}),t.map((e,t)=>0==t?(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:e.map((e,t)=>(0,l.jsx)("th",{className:s().td,children:e},"$#"+t))})},"$#"+t):(0,l.jsx)("tbody",{children:(0,l.jsx)("tr",{children:e.map((e,t)=>(0,l.jsx)(c,{field:e,blurHandler:u},"$#"+t))})},"$#"+t))]})]})}function _(e){let{tablesData:t}=e;return(0,l.jsxs)("div",{className:"tables",children:[t.length>1&&(0,l.jsx)("button",{className:s().downloadAll,onClick:e=>{let t=e.target.parentElement.querySelectorAll(".download-btn");console.log(t),t.forEach(e=>e.click())},children:"Download All"}),t.map((e,t)=>(0,l.jsx)(p,{tableData:e.data,fileName:e.fileName},"$#"+t))]})}let u=()=>{let[e,t]=(0,r.useState)([]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i,{setTablesData:t,tablesData:e}),(0,l.jsx)(_,{tablesData:e})]})};function h(){return(0,l.jsx)("div",{className:s().page,children:(0,l.jsx)("main",{className:s().main,children:(0,l.jsx)(u,{})})})}},8334:e=>{e.exports={page:"page_page__ZU32B",main:"page_main__GlU4n",ctas:"page_ctas__g5wGe",primary:"page_primary__V8M9Y",secondary:"page_secondary__lm_PT",footer:"page_footer__sHKi3",table:"page_table__71QjM",tableWrapper:"page_tableWrapper__79bz_",td:"page_td__VfSpZ",downloadBtn:"page_downloadBtn__H2Wt8",hide:"page_hide__N28Ah",actionBtns:"page_actionBtns__ge4tK",actionBtn:"page_actionBtn__w6_Iw",downloadAll:"page_downloadAll__DtiRQ",logo:"page_logo__7fc9l"}}},e=>{var t=t=>e(e.s=t);e.O(0,[397,505,441,517,358],()=>t(7755)),_N_E=e.O()}]);